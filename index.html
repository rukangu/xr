<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>PhD AR Project: Grabbable Dawgs</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.x.x/dist/aframe-event-set-component.min.js"></script>
  </head>

  <body>
    <a-scene
      reflection="directionalLight: #sun"
      renderer="colorManagement: true; exposure: 1; toneMapping: ACESFilmic"
      xr-mode-ui="XRMode: xr"
      ar-hit-test="target: #objects;" 
      obb-collider="showColliders: true"
    >
      <a-assets>
        <a-asset-item id="dawg" src="bulldawg.glb"></a-asset-item>
      </a-assets>

      <a-light id="sun" type="directional" position="1 4 1" intensity="1.5"></a-light>
      <a-light type="ambient" intensity="0.5"></a-light>

      <a-entity id="leftHand" hand-tracking-grab-controls="hand: left;"></a-entity>
      <a-entity id="rightHand" hand-tracking-grab-controls="hand: right;"></a-entity>

      <a-entity id="objects" position="0 1.3 -0.5" scale="1 1 1">
        
        <a-gltf-model src="#dawg" position="-2 0 0" rotation="0 45 0" scale="2 2 2"
          class="interactive"
          event-set__enter="_event: mouseenter; material.color: #8FF7FF; _target: #text1; visible: true"
          event-set__leave="_event: mouseleave; material.color: #ffffff; _target: #text1; visible: false">
          
          <a-entity id="text1" visible="false" position="0 0.8 0" rotation="0 -45 0">
             <a-plane color="#333" width="2" height="0.5"></a-plane>
             <a-text value="GOOOOOO DAWGS" align="center" color="#FFF" z-offset="0.01"></a-text>
          </a-entity>
        </a-gltf-model>


        <a-gltf-model src="#dawg" position="2 0 0" rotation="0 -45 0" scale="2 2 2"
          class="interactive"
          event-set__down="_event: mousedown; material.wireframe: true"
          event-set__up="_event: mouseup; material.wireframe: false"
          event-set__enter="_event: mouseenter; _target: #text2; visible: true"
          event-set__leave="_event: mouseleave; material.wireframe: false; _target: #text2; visible: false">
          
          <a-entity id="text2" visible="false" position="0 0.8 0" rotation="0 45 0">
             <a-plane color="#900" width="2.5" height="0.5"></a-plane>
             <a-text value="Sic 'em! Woof! Woof! X 5" align="center" color="#FFF" z-offset="0.01"></a-text>
          </a-entity>
        </a-gltf-model>


        <a-cylinder position="0 0.75 0" radius="0.5" height="1.5" color="#FFC65D"
          class="interactive"
          event-set__enter="_event: mouseenter; _target: #cylLabel; visible: true"
          event-set__leave="_event: mouseleave; _target: #cylLabel; visible: false">
          <a-text id="cylLabel" value="I am a Cylinder" align="center" color="#FFF" 
                  visible="false" position="0 1.2 0" geometry="primitive: plane; width: 2" 
                  material="color: #333">
          </a-text>
        </a-cylinder>

      </a-entity>

      <a-camera>
        <a-cursor color="#FF0000"></a-cursor>
      </a-camera>

    </a-scene>
  </body>
</html>